(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){},299:function(e,t,a){e.exports=a(566)},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},456:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},556:function(e,t,a){},557:function(e,t,a){},558:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),i=a(25),c=a(24),s=a(26),u=a(222),m=a(569),p=(a(307),a(53)),d=(a(308),a(158),a(13)),E=a(14),v=a(16),h=a(15),f=a(17),b=a(3),g=(a(309),a(44)),y=a(224),S=a.n(y),C=(a(310),a(42)),O=a.n(C),k="https://web-ninjas.net",I=function(e,t){return{type:"SIGNUP_SUCCESS",email:t,userId:e}},j=function(e,t){return{type:"SIGNIN_SUCCESS",token:e,userId:t}},T=function(e){return{type:"AUTH_FAIL",err:e}},N=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClose=function(){a.setState({open:!1})},a.handleOpen=function(){a.setState({open:!0})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("email"),a=this.props.classes,n=r.a.createElement("div",null,r.a.createElement(i.b,{to:"/sign-in"},r.a.createElement(b.b,{variant:"contained",color:"secondary",className:a.margin},"Sign In")),r.a.createElement(i.b,{to:"/sign-up"},r.a.createElement(b.b,{variant:"contained",color:"secondary",className:a.margin},"Sign Up")));return e&&(n=r.a.createElement("div",null,r.a.createElement("div",{className:"controll"},r.a.createElement(b.b,{onClick:this.handleOpen},e&&r.a.createElement(b.p,{color:"secondary"},t),r.a.createElement(S.a,{color:"secondary"}))),r.a.createElement(b.n,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,onClose:this.handleClose,message:r.a.createElement(i.b,{to:"/"},r.a.createElement(b.b,{onClick:this.props.onLogOut,variant:"contained",color:"secondary"},"LogOut"))}))),r.a.createElement("div",{className:"header"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement(b.p,{variant:"h1"},"BOOKING-TEST")),n)}}]),t}(r.a.Component),A=Object(c.b)(function(e){return{token:e.auth.token}},function(e){return{onLogOut:function(){return e((localStorage.clear(),sessionStorage.clear(),{type:"LOGOUT"}))}}})(Object(g.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(N)),M=Object(g.withStyles)(function(e){return{footer:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#111",padding:20}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.footer},r.a.createElement(i.b,{to:"/statistics"},r.a.createElement(b.b,{variant:"contained",color:"secondary"},"Get Statistics")),r.a.createElement(b.p,{align:"right",color:"secondary"}," Made by Yaroslav Antonchyk "))}),w=function(e){return r.a.createElement("div",{className:"page"},r.a.createElement(A,null),r.a.createElement("div",{className:"page-content"},e.children),r.a.createElement(M,null))},x=a(104),D=a.n(x),L=a(106),B=a.n(L),_=a(105),G=a.n(_),P=a(107),R=a.n(P),H=a(46),U=a.n(H),Y=(a(456),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){var e=a.props,t=e.roomNumber,n=e.hall._id;localStorage.setItem("currentRoom",t),localStorage.setItem("currentHallId",n)},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.hall,t=e.title,a=e.description,n=e.imageURL,o=e._id;return r.a.createElement("div",{className:"room-listitem"},r.a.createElement(D.a,{className:"card"},r.a.createElement(i.b,{to:"/hall/".concat(o)},r.a.createElement(B.a,{onClick:this.clickHandler},r.a.createElement(R.a,{className:"media",image:n,title:t}),r.a.createElement(G.a,null,r.a.createElement(U.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(U.a,{component:"p"},a))))))}}]),t}(r.a.Component)),F=(a(459),{headers:{Authorization:localStorage.getItem("token")}}),K=function(){return{type:"LOAD_HALLS_INIT"}},Z=function(e){return{type:"LOAD_HALLS_SUCCES",halls:e}},z=function(e){return{type:"LOAD_HALLS_FAIL",err:e}},V=(a(460),function(){return r.a.createElement("div",{className:"Loader"},"Loading...")}),W="https://web-ninjas.net/tickets",J={headers:{Authorization:localStorage.getItem("token")}},q=function(){return function(e){e(Q()),O.a.get("".concat(W)).then(function(t){var a=t.data;e(X(a))}).catch(function(t){e($(t.message))})}},Q=function(){return{type:"GET_TICKETS_INIT"}},X=function(e){return{type:"GET_TICKETS_SUCCESS",tickets:e}},$=function(e){return{type:"GET_TICKETS_FAIL",err:e}},ee=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.loadHalls(),this.props.loadTickets()}},{key:"render",value:function(){var e=this.props,t=e.halls,a=e.err;return e.isLoading?r.a.createElement(w,null,r.a.createElement(V,null)):a?r.a.createElement(w,null,r.a.createElement(b.g,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},r.a.createElement(b.h,{id:"simple-dialog-title"},a))):r.a.createElement(w,null,r.a.createElement("div",{className:"dashboard"},t.map(function(e,t){return r.a.createElement(Y,{hall:e,key:e._id,roomNumber:t})})))}}]),t}(r.a.Component),te=Object(c.b)(function(e){return{halls:e.halls.halls,err:e.halls.err,isLoading:e.halls.isLoading}},function(e){return{loadHalls:function(){return e(function(e){e(K()),O.a.get("https://web-ninjas.net/halls",F).then(function(t){var a=t.data.halls;e(Z(a))}).catch(function(t){e(z(t.message))})})},loadTickets:function(){return e(q())}}})(ee),ae=a(567),ne=function(e){var t={};return["email","password","country","birthdate"].forEach(function(a){e[a]||(t[a]="Required")}),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),e.password&&e.password.length<6&&(t.password="Short password"),t},re=a(568),oe=a(47),le=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,l=n.invalid,i=n.error,c=Object(oe.a)(e,["label","input","meta"]);return r.a.createElement(b.o,Object.assign({label:t,placeholder:t,error:o&&l,helperText:o&&i},a,c))},ie=Object(ae.a)({validate:ne,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,form:"formSignupRedux"})(Object(g.withStyles)(function(){return{marginBottom:{marginBottom:20},form:{width:300,marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})(function(e){var t=e.handleSubmit,a=e.formData,n=e.classes,o=a?a.syncErrors:null;return console.log(a),r.a.createElement("form",{onSubmit:t,className:n.form},r.a.createElement("div",{className:n.marginBottom},r.a.createElement(re.a,{name:"email",component:le,label:"Email",type:"email"})),r.a.createElement("div",{className:n.marginBottom},r.a.createElement(re.a,{name:"password",component:le,label:"Password",type:"password"})),r.a.createElement(b.b,{type:"submit",variant:"contained",color:"secondary",disabled:!o||!(!o.email&&!o.password)},"Next"))})),ce=function(e){e.label;var t=e.input,a=e.meta,n=(a.touched,a.invalid,a.error);Object(oe.a)(e,["label","input","meta"]);return r.a.createElement("div",{style:{width:200}},r.a.createElement(b.m,Object.assign({displayEmpty:!0,required:!0,native:!0},t,{inputProps:{name:"country",id:"country-native-simple"}}),r.a.createElement("option",{value:""},"Country"),r.a.createElement("option",{value:"AF"},"Afghanistan"),r.a.createElement("option",{value:"AX"},"\xc5land Islands"),r.a.createElement("option",{value:"AL"},"Albania"),r.a.createElement("option",{value:"DZ"},"Algeria"),r.a.createElement("option",{value:"AS"},"American Samoa"),r.a.createElement("option",{value:"AD"},"Andorra"),r.a.createElement("option",{value:"AO"},"Angola"),r.a.createElement("option",{value:"AI"},"Anguilla"),r.a.createElement("option",{value:"AQ"},"Antarctica"),r.a.createElement("option",{value:"AG"},"Antigua and Barbuda"),r.a.createElement("option",{value:"AR"},"Argentina"),r.a.createElement("option",{value:"AM"},"Armenia"),r.a.createElement("option",{value:"AW"},"Aruba"),r.a.createElement("option",{value:"AU"},"Australia"),r.a.createElement("option",{value:"AT"},"Austria"),r.a.createElement("option",{value:"AZ"},"Azerbaijan"),r.a.createElement("option",{value:"BS"},"Bahamas"),r.a.createElement("option",{value:"BH"},"Bahrain"),r.a.createElement("option",{value:"BD"},"Bangladesh"),r.a.createElement("option",{value:"BB"},"Barbados"),r.a.createElement("option",{value:"BY"},"Belarus"),r.a.createElement("option",{value:"BE"},"Belgium"),r.a.createElement("option",{value:"BZ"},"Belize"),r.a.createElement("option",{value:"BJ"},"Benin"),r.a.createElement("option",{value:"BM"},"Bermuda"),r.a.createElement("option",{value:"BT"},"Bhutan"),r.a.createElement("option",{value:"BO"},"Bolivia, Plurinational State of"),r.a.createElement("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),r.a.createElement("option",{value:"BA"},"Bosnia and Herzegovina"),r.a.createElement("option",{value:"BW"},"Botswana"),r.a.createElement("option",{value:"BV"},"Bouvet Island"),r.a.createElement("option",{value:"BR"},"Brazil"),r.a.createElement("option",{value:"IO"},"British Indian Ocean Territory"),r.a.createElement("option",{value:"BN"},"Brunei Darussalam"),r.a.createElement("option",{value:"BG"},"Bulgaria"),r.a.createElement("option",{value:"BF"},"Burkina Faso"),r.a.createElement("option",{value:"BI"},"Burundi"),r.a.createElement("option",{value:"KH"},"Cambodia"),r.a.createElement("option",{value:"CM"},"Cameroon"),r.a.createElement("option",{value:"CA"},"Canada"),r.a.createElement("option",{value:"CV"},"Cape Verde"),r.a.createElement("option",{value:"KY"},"Cayman Islands"),r.a.createElement("option",{value:"CF"},"Central African Republic"),r.a.createElement("option",{value:"TD"},"Chad"),r.a.createElement("option",{value:"CL"},"Chile"),r.a.createElement("option",{value:"CN"},"China"),r.a.createElement("option",{value:"CX"},"Christmas Island"),r.a.createElement("option",{value:"CC"},"Cocos (Keeling) Islands"),r.a.createElement("option",{value:"CO"},"Colombia"),r.a.createElement("option",{value:"KM"},"Comoros"),r.a.createElement("option",{value:"CG"},"Congo"),r.a.createElement("option",{value:"CD"},"Congo, the Democratic Republic of the"),r.a.createElement("option",{value:"CK"},"Cook Islands"),r.a.createElement("option",{value:"CR"},"Costa Rica"),r.a.createElement("option",{value:"CI"},"C\xf4te d'Ivoire"),r.a.createElement("option",{value:"HR"},"Croatia"),r.a.createElement("option",{value:"CU"},"Cuba"),r.a.createElement("option",{value:"CW"},"Cura\xe7ao"),r.a.createElement("option",{value:"CY"},"Cyprus"),r.a.createElement("option",{value:"CZ"},"Czech Republic"),r.a.createElement("option",{value:"DK"},"Denmark"),r.a.createElement("option",{value:"DJ"},"Djibouti"),r.a.createElement("option",{value:"DM"},"Dominica"),r.a.createElement("option",{value:"DO"},"Dominican Republic"),r.a.createElement("option",{value:"EC"},"Ecuador"),r.a.createElement("option",{value:"EG"},"Egypt"),r.a.createElement("option",{value:"SV"},"El Salvador"),r.a.createElement("option",{value:"GQ"},"Equatorial Guinea"),r.a.createElement("option",{value:"ER"},"Eritrea"),r.a.createElement("option",{value:"EE"},"Estonia"),r.a.createElement("option",{value:"ET"},"Ethiopia"),r.a.createElement("option",{value:"FK"},"Falkland Islands (Malvinas)"),r.a.createElement("option",{value:"FO"},"Faroe Islands"),r.a.createElement("option",{value:"FJ"},"Fiji"),r.a.createElement("option",{value:"FI"},"Finland"),r.a.createElement("option",{value:"FR"},"France"),r.a.createElement("option",{value:"GF"},"French Guiana"),r.a.createElement("option",{value:"PF"},"French Polynesia"),r.a.createElement("option",{value:"TF"},"French Southern Territories"),r.a.createElement("option",{value:"GA"},"Gabon"),r.a.createElement("option",{value:"GM"},"Gambia"),r.a.createElement("option",{value:"GE"},"Georgia"),r.a.createElement("option",{value:"DE"},"Germany"),r.a.createElement("option",{value:"GH"},"Ghana"),r.a.createElement("option",{value:"GI"},"Gibraltar"),r.a.createElement("option",{value:"GR"},"Greece"),r.a.createElement("option",{value:"GL"},"Greenland"),r.a.createElement("option",{value:"GD"},"Grenada"),r.a.createElement("option",{value:"GP"},"Guadeloupe"),r.a.createElement("option",{value:"GU"},"Guam"),r.a.createElement("option",{value:"GT"},"Guatemala"),r.a.createElement("option",{value:"GG"},"Guernsey"),r.a.createElement("option",{value:"GN"},"Guinea"),r.a.createElement("option",{value:"GW"},"Guinea-Bissau"),r.a.createElement("option",{value:"GY"},"Guyana"),r.a.createElement("option",{value:"HT"},"Haiti"),r.a.createElement("option",{value:"HM"},"Heard Island and McDonald Islands"),r.a.createElement("option",{value:"VA"},"Holy See (Vatican City State)"),r.a.createElement("option",{value:"HN"},"Honduras"),r.a.createElement("option",{value:"HK"},"Hong Kong"),r.a.createElement("option",{value:"HU"},"Hungary"),r.a.createElement("option",{value:"IS"},"Iceland"),r.a.createElement("option",{value:"IN"},"India"),r.a.createElement("option",{value:"ID"},"Indonesia"),r.a.createElement("option",{value:"IR"},"Iran, Islamic Republic of"),r.a.createElement("option",{value:"IQ"},"Iraq"),r.a.createElement("option",{value:"IE"},"Ireland"),r.a.createElement("option",{value:"IM"},"Isle of Man"),r.a.createElement("option",{value:"IL"},"Israel"),r.a.createElement("option",{value:"IT"},"Italy"),r.a.createElement("option",{value:"JM"},"Jamaica"),r.a.createElement("option",{value:"JP"},"Japan"),r.a.createElement("option",{value:"JE"},"Jersey"),r.a.createElement("option",{value:"JO"},"Jordan"),r.a.createElement("option",{value:"KZ"},"Kazakhstan"),r.a.createElement("option",{value:"KE"},"Kenya"),r.a.createElement("option",{value:"KI"},"Kiribati"),r.a.createElement("option",{value:"KP"},"Korea, Democratic People's Republic of"),r.a.createElement("option",{value:"KR"},"Korea, Republic of"),r.a.createElement("option",{value:"KW"},"Kuwait"),r.a.createElement("option",{value:"KG"},"Kyrgyzstan"),r.a.createElement("option",{value:"LA"},"Lao People's Democratic Republic"),r.a.createElement("option",{value:"LV"},"Latvia"),r.a.createElement("option",{value:"LB"},"Lebanon"),r.a.createElement("option",{value:"LS"},"Lesotho"),r.a.createElement("option",{value:"LR"},"Liberia"),r.a.createElement("option",{value:"LY"},"Libya"),r.a.createElement("option",{value:"LI"},"Liechtenstein"),r.a.createElement("option",{value:"LT"},"Lithuania"),r.a.createElement("option",{value:"LU"},"Luxembourg"),r.a.createElement("option",{value:"MO"},"Macao"),r.a.createElement("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),r.a.createElement("option",{value:"MG"},"Madagascar"),r.a.createElement("option",{value:"MW"},"Malawi"),r.a.createElement("option",{value:"MY"},"Malaysia"),r.a.createElement("option",{value:"MV"},"Maldives"),r.a.createElement("option",{value:"ML"},"Mali"),r.a.createElement("option",{value:"MT"},"Malta"),r.a.createElement("option",{value:"MH"},"Marshall Islands"),r.a.createElement("option",{value:"MQ"},"Martinique"),r.a.createElement("option",{value:"MR"},"Mauritania"),r.a.createElement("option",{value:"MU"},"Mauritius"),r.a.createElement("option",{value:"YT"},"Mayotte"),r.a.createElement("option",{value:"MX"},"Mexico"),r.a.createElement("option",{value:"FM"},"Micronesia, Federated States of"),r.a.createElement("option",{value:"MD"},"Moldova, Republic of"),r.a.createElement("option",{value:"MC"},"Monaco"),r.a.createElement("option",{value:"MN"},"Mongolia"),r.a.createElement("option",{value:"ME"},"Montenegro"),r.a.createElement("option",{value:"MS"},"Montserrat"),r.a.createElement("option",{value:"MA"},"Morocco"),r.a.createElement("option",{value:"MZ"},"Mozambique"),r.a.createElement("option",{value:"MM"},"Myanmar"),r.a.createElement("option",{value:"NA"},"Namibia"),r.a.createElement("option",{value:"NR"},"Nauru"),r.a.createElement("option",{value:"NP"},"Nepal"),r.a.createElement("option",{value:"NL"},"Netherlands"),r.a.createElement("option",{value:"NC"},"New Caledonia"),r.a.createElement("option",{value:"NZ"},"New Zealand"),r.a.createElement("option",{value:"NI"},"Nicaragua"),r.a.createElement("option",{value:"NE"},"Niger"),r.a.createElement("option",{value:"NG"},"Nigeria"),r.a.createElement("option",{value:"NU"},"Niue"),r.a.createElement("option",{value:"NF"},"Norfolk Island"),r.a.createElement("option",{value:"MP"},"Northern Mariana Islands"),r.a.createElement("option",{value:"NO"},"Norway"),r.a.createElement("option",{value:"OM"},"Oman"),r.a.createElement("option",{value:"PK"},"Pakistan"),r.a.createElement("option",{value:"PW"},"Palau"),r.a.createElement("option",{value:"PS"},"Palestinian Territory, Occupied"),r.a.createElement("option",{value:"PA"},"Panama"),r.a.createElement("option",{value:"PG"},"Papua New Guinea"),r.a.createElement("option",{value:"PY"},"Paraguay"),r.a.createElement("option",{value:"PE"},"Peru"),r.a.createElement("option",{value:"PH"},"Philippines"),r.a.createElement("option",{value:"PN"},"Pitcairn"),r.a.createElement("option",{value:"PL"},"Poland"),r.a.createElement("option",{value:"PT"},"Portugal"),r.a.createElement("option",{value:"PR"},"Puerto Rico"),r.a.createElement("option",{value:"QA"},"Qatar"),r.a.createElement("option",{value:"RE"},"R\xe9union"),r.a.createElement("option",{value:"RO"},"Romania"),r.a.createElement("option",{value:"RU"},"Russian Federation"),r.a.createElement("option",{value:"RW"},"Rwanda"),r.a.createElement("option",{value:"BL"},"Saint Barth\xe9lemy"),r.a.createElement("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),r.a.createElement("option",{value:"KN"},"Saint Kitts and Nevis"),r.a.createElement("option",{value:"LC"},"Saint Lucia"),r.a.createElement("option",{value:"MF"},"Saint Martin (French part)"),r.a.createElement("option",{value:"PM"},"Saint Pierre and Miquelon"),r.a.createElement("option",{value:"VC"},"Saint Vincent and the Grenadines"),r.a.createElement("option",{value:"WS"},"Samoa"),r.a.createElement("option",{value:"SM"},"San Marino"),r.a.createElement("option",{value:"ST"},"Sao Tome and Principe"),r.a.createElement("option",{value:"SA"},"Saudi Arabia"),r.a.createElement("option",{value:"SN"},"Senegal"),r.a.createElement("option",{value:"RS"},"Serbia"),r.a.createElement("option",{value:"SC"},"Seychelles"),r.a.createElement("option",{value:"SL"},"Sierra Leone"),r.a.createElement("option",{value:"SG"},"Singapore"),r.a.createElement("option",{value:"SX"},"Sint Maarten (Dutch part)"),r.a.createElement("option",{value:"SK"},"Slovakia"),r.a.createElement("option",{value:"SI"},"Slovenia"),r.a.createElement("option",{value:"SB"},"Solomon Islands"),r.a.createElement("option",{value:"SO"},"Somalia"),r.a.createElement("option",{value:"ZA"},"South Africa"),r.a.createElement("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),r.a.createElement("option",{value:"SS"},"South Sudan"),r.a.createElement("option",{value:"ES"},"Spain"),r.a.createElement("option",{value:"LK"},"Sri Lanka"),r.a.createElement("option",{value:"SD"},"Sudan"),r.a.createElement("option",{value:"SR"},"Suriname"),r.a.createElement("option",{value:"SJ"},"Svalbard and Jan Mayen"),r.a.createElement("option",{value:"SZ"},"Swaziland"),r.a.createElement("option",{value:"SE"},"Sweden"),r.a.createElement("option",{value:"CH"},"Switzerland"),r.a.createElement("option",{value:"SY"},"Syrian Arab Republic"),r.a.createElement("option",{value:"TW"},"Taiwan, Province of China"),r.a.createElement("option",{value:"TJ"},"Tajikistan"),r.a.createElement("option",{value:"TZ"},"Tanzania, United Republic of"),r.a.createElement("option",{value:"TH"},"Thailand"),r.a.createElement("option",{value:"TL"},"Timor-Leste"),r.a.createElement("option",{value:"TG"},"Togo"),r.a.createElement("option",{value:"TK"},"Tokelau"),r.a.createElement("option",{value:"TO"},"Tonga"),r.a.createElement("option",{value:"TT"},"Trinidad and Tobago"),r.a.createElement("option",{value:"TN"},"Tunisia"),r.a.createElement("option",{value:"TR"},"Turkey"),r.a.createElement("option",{value:"TM"},"Turkmenistan"),r.a.createElement("option",{value:"TC"},"Turks and Caicos Islands"),r.a.createElement("option",{value:"TV"},"Tuvalu"),r.a.createElement("option",{value:"UG"},"Uganda"),r.a.createElement("option",{value:"UA"},"Ukraine"),r.a.createElement("option",{value:"AE"},"United Arab Emirates"),r.a.createElement("option",{value:"GB"},"United Kingdom"),r.a.createElement("option",{value:"US"},"United States"),r.a.createElement("option",{value:"UM"},"United States Minor Outlying Islands"),r.a.createElement("option",{value:"UY"},"Uruguay"),r.a.createElement("option",{value:"UZ"},"Uzbekistan"),r.a.createElement("option",{value:"VU"},"Vanuatu"),r.a.createElement("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),r.a.createElement("option",{value:"VN"},"Viet Nam"),r.a.createElement("option",{value:"VG"},"Virgin Islands, British"),r.a.createElement("option",{value:"VI"},"Virgin Islands, U.S."),r.a.createElement("option",{value:"WF"},"Wallis and Futuna"),r.a.createElement("option",{value:"EH"},"Western Sahara"),r.a.createElement("option",{value:"YE"},"Yemen"),r.a.createElement("option",{value:"ZM"},"Zambia"),r.a.createElement("option",{value:"ZW"},"Zimbabwe")),r.a.createElement(b.i,{style:{color:"red"}},n))},se=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,l=n.invalid,i=n.error,c=Object(oe.a)(e,["label","input","meta"]);return r.a.createElement("div",{style:{width:200}},r.a.createElement(b.k,{htmlFor:"age-native-simple"},"Birthdate"),r.a.createElement(b.o,Object.assign({label:t,placeholder:t,error:o&&l,helperText:o&&i},a,c)),r.a.createElement(b.i,{style:{color:"red"}},i))},ue=Object(ae.a)({validate:ne,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,form:"formSignupRedux"})(Object(g.withStyles)(function(){return{marginBottom:{marginBottom:20},form:{width:300,marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})(function(e){var t=e.handleSubmit,a=e.formData,n=e.classes;return r.a.createElement("form",{onSubmit:t,className:n.form},r.a.createElement("div",null,r.a.createElement(re.a,{name:"company",component:le,label:"Company",type:"text"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(re.a,{name:"country",component:ce,label:"country",type:"select"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(re.a,{name:"birthdate",component:se,type:"date"})),r.a.createElement("br",null),r.a.createElement(b.b,{type:"submit",variant:"contained",color:"secondary",disabled:!a||!!a.syncErrors},"Next"))})),me=Object(ae.a)({validate:ne,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,form:"formSignupRedux"})(Object(g.withStyles)(function(){return{marginBottom:{marginBottom:20},form:{width:300,marginTop:20,padding:20,display:"flex",flexDirection:"column"}}})(function(e){var t=e.handleSubmit,a=e.formData,n=e.classes;return r.a.createElement("form",{onSubmit:t,className:n.form},r.a.createElement(b.p,{variant:"subtitle1",className:n.marginBottom},"Your email: ",a.values.email),r.a.createElement(b.p,{variant:"subtitle1",className:n.marginBottom},"Your password: ",a.values.password),a.values.company&&r.a.createElement(b.p,{variant:"subtitle1",className:n.marginBottom},"Your company: ",a.values.company),r.a.createElement(b.p,{variant:"subtitle1",className:n.marginBottom},"Your country: ",a.values.country),r.a.createElement(b.p,{variant:"subtitle1",className:n.marginBottom},"Your birthday: ",a.values.birthdate),r.a.createElement(b.b,{variant:"contained",color:"secondary",type:"submit"},"Submit"))})),pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={page:1},a.nextPage=function(){a.setState({page:a.state.page+1})},a.prevPage=function(){a.setState({page:a.state.page-1})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.formData,o=this.state.page;return console.log(n),r.a.createElement("div",{className:t.login},r.a.createElement(b.l,null,1===o&&r.a.createElement(ie,{handleSubmit:this.nextPage,formData:n}),2===o&&r.a.createElement(ue,{handleSubmit:this.nextPage,formData:n}),3===o&&r.a.createElement(me,{handleSubmit:a,formData:n}),r.a.createElement("div",{className:t.margin+" "+t.text},this.props.children)))}}]),t}(r.a.Component),de=Object(ae.a)({form:"formSignupRedux",validate:ne})(Object(g.withStyles)(function(){return{login:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{margin:20},form:{width:300,marginTop:50,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{display:"flex",alignItems:"center",justifyContent:"center"}}})(pe)),Ee=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleClose=function(){a.setState({open:!1})},a.handleError=function(){a.props.onConfirm()},a.handleSubmit=function(e){e.preventDefault();var t=a.props.formData.values;a.props.onSubmit(t)},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isSignedUp,n=t.err,o=t.formData;return a?r.a.createElement(w,null,r.a.createElement("div",{className:"flexbox col align-center justify-center"},r.a.createElement(b.p,{align:"center",variant:"h3"},"Account created please "),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/sign-in"},r.a.createElement(b.b,{variant:"text",color:"secondary"},r.a.createElement(b.p,{align:"center",variant:"h3"},"Login"))))):n?r.a.createElement(w,null,r.a.createElement(b.g,{open:!0,onClose:this.handleError,"aria-labelledby":"simple-dialog-title"},r.a.createElement(b.h,{id:"simple-dialog-title"},n))):r.a.createElement(w,null,r.a.createElement(de,{handleSubmit:function(t){return e.handleSubmit(t)},formType:"Sign Up",formData:o},r.a.createElement(b.p,{align:"center"}," Have an account? "),r.a.createElement(i.b,{to:"/sign-in"},r.a.createElement(b.b,{variant:"text",color:"secondary"},"Login"))))}}]),t}(r.a.Component),ve=Object(c.b)(function(e){return{isSignedUp:null!==e.auth.userId,err:e.auth.err,formData:e.form.formSignupRedux}},function(e){return{onSubmit:function(t){var a=t.email,n=t.password;return e(function(e,t){return function(a){var n={email:e,password:t};O.a.post("".concat(k,"/signUp"),n).then(function(e){var t=e.data,n=t.id,r=t.email;localStorage.setItem("email",r),a(I(n,r))}).catch(function(e){a(T(e.message))})}}(a,n))},onConfirm:function(){return e(T(null))}}})(Ee),he=a(28),fe=a(49),be=a(18),ge=a.n(be),ye=(a(556),a(557),a(558),a(110)),Se=a.n(ye),Ce=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={date:"".concat(a.props.date),start:"".concat(a.props.hours,":00"),end:"".concat(a.props.hours+1,":00"),title:"",open:!1},a.onChange=function(e){var t=e.target,n=t.name,r=t.value,o=a.state.date;"start"===n&&a.setState({end:ge()("".concat(o,"T").concat(r,":00")).add(1,"hours").format("HH:00")}),a.setState(Object(fe.a)({},n,r))},a.onAdd=function(){var e=a.props,t=e.user_id,n=e.hall_id,r=a.state,o=r.date,l=r.start,i=r.end,c=r.title;a.props.postTicket({hall_id:n,user_id:t,from:new Date(o+"T"+l).getTime()+1,to:new Date(o+"T"+i).getTime()-1,title:c})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.date,n=t.title,o=t.start,l=t.end,c=!!localStorage.getItem("token");return r.a.createElement("div",{className:"flexbox col pd-20"},r.a.createElement(b.o,{id:"title",placeholder:"Your event",required:!0,label:"Title",type:"text",name:"title",value:n,className:e.textField,InputLabelProps:{shrink:!0},onChange:this.onChange}),r.a.createElement(b.o,{id:"date",label:"Book room for date",type:"date",name:"date",value:a,className:e.textField,inputProps:{min:ge()().format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},onChange:this.onChange}),r.a.createElement(b.o,{id:"time",label:"Start event",type:"time",name:"start",value:o,className:e.textField,InputLabelProps:{shrink:!0},inputProps:{min:"10:00",max:"18:00",step:"1"},onChange:this.onChange}),r.a.createElement(b.o,{id:"time",label:"End event",type:"time",name:"end",value:l,className:"".concat(e.textField," ").concat(e.marginBottom),InputLabelProps:{shrink:!0},inputProps:{min:o,max:"18:00",step:"1"},onChange:this.onChange}),c?r.a.createElement(b.b,{color:"secondary",disabled:0===n.length,onClick:this.onAdd,"aria-label":"Done"},r.a.createElement(Se.a,null)):r.a.createElement(i.b,{to:"/sign-in"},r.a.createElement(b.b,{variant:"text",color:"secondary"},"Sign in to book")))}}]),t}(n.Component),Oe=Object(c.b)(function(e){return{tickets:e.tickets.tickets,user_id:e.auth.userId,hall_id:e.halls.currentHallId}},function(e){return{postTicket:function(t){return e((a=t,function(e){e(Q());var t=a.from,n=a.to;(new Date).getTime()>t?e($("This time is already past")):t>n?e($("End must be later then start")):O.a.post(W,a,J).then(function(){e(q())}).catch(function(t){e($(t.message))})}));var a}}})(Object(g.withStyles)(function(e){return{root:{flexGrow:1,width:"100%"},margin:{margin:e.spacing.unit},marginBottom:{marginBottom:20},container:{color:"red"},textField:{color:"red"}}})(Ce)),ke=a(226),Ie=a.n(ke),je=a(227),Te=a.n(je),Ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={date:a.props.date,start:"".concat(a.props.hours,":00"),end:"".concat(a.props.hours+1,":00"),title:"",expanded:!1},a.onChange=function(e){var t=e.target,n=t.name,r=t.value,o=a.state.date;"start"===n&&a.setState({end:ge()("".concat(o,"T").concat(r,":00")).add(1,"hours").format("HH:00")}),a.setState(Object(fe.a)({},n,r)),sessionStorage.setItem([n],r)},a.onCorrect=function(e){var t=a.props,n=t.correctTicket,r=t.hallId,o=t.isMineBooking,l=a.state,i=l.date,c=l.start,s=l.end;n({hall_id:r,user_id:localStorage.getItem("userId"),from:new Date("".concat(i,"T").concat(c)).getTime()+1,to:new Date("".concat(i,"T").concat(s)).getTime()-1},o._id)},a.onDelete=function(e){var t=a.props;(0,t.deleteTicket)(t.isMineBooking._id)},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.isMineBooking,n=e.isBookedTime,o=this.state,l=o.title,i=o.start,c=o.end,s=o.date,u=!!localStorage.getItem("token");return r.a.createElement(b.c,{className:t.card},r.a.createElement(b.e,{avatar:r.a.createElement(b.a,{"aria-label":"Info",className:t.avatar},"I"),title:"About ticket"}),r.a.createElement(b.d,null,r.a.createElement(b.p,{component:"p",variant:"subtitle1"},"Title: ",n.title),r.a.createElement(b.p,{component:"p",variant:"subtitle1"},"From: ",ge()(n.from).format("DD-MM-YYYY HH:mm")),r.a.createElement(b.p,{component:"p",variant:"subtitle1"},"To: ",ge()(n.to).format("DD-MM-YYYY HH:mm")),r.a.createElement(b.j,{className:t.expand,onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,disabled:!(u&&a),color:"secondary","aria-label":"Correct ticket"},r.a.createElement(Ie.a,null)),r.a.createElement(b.j,{color:"secondary",onClick:this.onDelete,disabled:!(u&&a),"aria-label":"Correct ticket"},r.a.createElement(Te.a,null))),r.a.createElement(b.f,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(b.d,null,r.a.createElement("div",{className:"flexbox col"},r.a.createElement(b.o,{required:!0,placeholder:"Your event",id:"title",label:"Title",type:"text",name:"title",value:l,className:t.textField,InputLabelProps:{shrink:!0},onChange:this.onChange}),r.a.createElement(b.o,{id:"date",label:"Book room for new date",type:"date",name:"date",value:s,className:t.textField,inputProps:{min:ge()().format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},onChange:this.onChange}),r.a.createElement(b.o,{id:"time",label:"Start event",type:"time",name:"start",value:i,className:t.textField,InputLabelProps:{shrink:!0},inputProps:{min:"10:00",max:"18:00",step:"1"},onChange:this.onChange}),r.a.createElement(b.o,{id:"time",label:"End event",type:"time",name:"end",value:c,className:"".concat(t.textField," ").concat(t.marginBottom),InputLabelProps:{shrink:!0},inputProps:{min:i,max:"18:00",step:"1"},onChange:this.onChange}),r.a.createElement(b.b,{color:"secondary",disabled:0===l.length,"aria-label":"Correct ticket",onClick:this.onCorrect},r.a.createElement(Se.a,null))))))}}]),t}(n.Component),Ae=Object(c.b)(function(e){return{tickets:e.tickets.tickets}},function(e){return{correctTicket:function(t,a){return e(function(e,t){return function(a){a(Q());var n=e.from,r=e.to;(new Date).getTime()>n?a($("This time is already past")):n>r?a($("End must be later then start")):O.a.put("".concat("https://web-ninjas.net/ticket","/").concat(t),{from:n,to:r,title:"event"},J).then(function(){a(q())}).catch(function(e){a($(e.message))})}}(t,a))},deleteTicket:function(t){return e(function(e){return function(t){O.a.delete("".concat(W,"/").concat(e),J).then(function(e){t(q())}).catch(function(e){t($(e.message))})}}(t))}}})(Object(g.withStyles)(function(e){return{root:{flexGrow:1,width:"100%"},margin:{margin:e.spacing.unit},marginBottom:{marginBottom:20},container:{color:"red"},textField:{color:"red"},avatar:{backgroundColor:"#C51161"}}})(Ne)),Me=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hours,a=e.currentDate,n=e.tickets,o=e.hallId,l=a.date,i=localStorage.getItem("userId"),c=n.filter(function(e){return e.hall_id===o}),s=c.filter(function(e){return e.user_id===i}),u=c.find(function(e){return ge()(l+"T"+t+":01").isBetween(e.from,e.to,"millisecond")}),m=s.find(function(e){return ge()(l+"T"+t+":01").isBetween(e.from,e.to,"millisecond")});return r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"hours"},t,":00- ",t+1,":00"),r.a.createElement("div",{className:"mark ".concat(u?"booked":"free"," "),onClick:this.handleOpen},m&&r.a.createElement(b.p,null,"*")),r.a.createElement(b.g,{open:this.state.open,onClose:this.handleClose},u?r.a.createElement(Ae,{date:l,hours:t,isMineBooking:m,isBookedTime:u}):r.a.createElement(Oe,{date:l,hours:t})))}}]),t}(r.a.Component),we=function(e){return r.a.createElement("div",{className:"day-scedule-wrapper"},r.a.createElement("div",{className:"day-scedule mb-20"},new Array(8).fill(null).map(function(t,a){return r.a.createElement(Me,Object.assign({hours:10+a},e,{key:a}))})),r.a.createElement("div",{className:"flexbox align-center mb-20"},r.a.createElement("span",{className:"marker marker-free mr-20"}),r.a.createElement(b.p,{variant:"subtitle1"}," - is free")),r.a.createElement("div",{className:"flexbox align-center mb-20 "},r.a.createElement("span",{className:"marker marker-book mr-20"}),r.a.createElement(b.p,{variant:"subtitle1"}," - is booked")),r.a.createElement("div",{className:"flexbox align-center mb-20 "},r.a.createElement("span",{className:"mr-20"},"*"),r.a.createElement(b.p,{variant:"subtitle1"}," - your booking")))},xe=a(228),De=a.n(xe),Le=a(229),Be=a.n(Le),_e=(a(559),a(560),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tickets,a=e.currentDay,n=localStorage.getItem("currentHallId"),o=t.filter(function(e){return e.hall_id===n});return r.a.createElement("div",{className:"preview"},new Array(8).fill(null).map(function(e,t){var n=o.some(function(e){return ge()("".concat(ge()(a).format("YYYY-MM-DD"),"T1").concat(t,":01")).isBetween(e.from,e.to,"milliseconds")});return r.a.createElement("span",{key:t,className:"mark ".concat(n&&"booked")})}))}}]),t}(n.Component)),Ge=Object(c.b)(function(e){return{tickets:e.tickets.tickets}})(_e),Pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={currentMonth:ge()(),selectedDate:ge()()},a.onDateClick=function(e){var t=a.props.onChangeDay;a.setState({selectedDate:e}),t(ge()(e).format("YYYY-MM-DD"))},a.nextMonth=function(){var e=a.state.currentMonth;a.setState({currentMonth:e.add(1,"month")})},a.prevMonth=function(){var e=a.state.currentMonth;a.setState({currentMonth:e.subtract(1,"month")})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"renderHeader",value:function(){var e=this.state.currentMonth;return r.a.createElement("div",{className:"calendar-header flexbox align-center"},r.a.createElement(b.b,{onClick:this.prevMonth},r.a.createElement(De.a,null)),r.a.createElement("span",null,ge()(e).format("MMMM YYYY")),r.a.createElement(b.b,{onClick:this.nextMonth},r.a.createElement(Be.a,null)))}},{key:"renderDays",value:function(){for(var e=[],t=ge()().startOf("week"),a=0;a<7;a++)e.push(r.a.createElement("div",{className:"cell",key:a},t.add(1,"day").format("ddd")));return r.a.createElement("div",{className:"days flexbox"},e)}},{key:"renderCells",value:function(){for(var e=this,t=this.state,a=t.currentMonth,n=t.selectedDate,o=a.clone().startOf("month"),l=a.clone().endOf("month"),i=o.clone().startOf("isoWeek"),c=l.clone().endOf("isoWeek"),s=[],u=[],m=i,p="";m<=c;){for(var d=function(t){p=ge()(m).format("DD");var o=ge()(m),l=m;u.push(r.a.createElement("div",{className:"day ".concat(ge()(l).isSame(a,"month")?ge()(l).isSame(n,"day")?"selected":"":"disabled"),key:m,onClick:function(){return e.onDateClick(o)}},r.a.createElement(b.p,null,p),r.a.createElement(Ge,{currentDay:o}))),m=m.add(1,"day")},E=0;E<7;E++)d();s.push(r.a.createElement("div",{className:"week",key:m},u)),u=[]}return r.a.createElement("div",{className:"body"},s)}},{key:"render",value:function(){return r.a.createElement("div",{className:"calendar"},this.renderHeader(),this.renderDays(),this.renderCells())}}]),t}(r.a.Component),Re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={date:ge()().format("YYYY-MM-DD"),start:"10:00",end:"11:00",open:!1},a.onChangeTime=function(e){var t=e.target,n=t.name,r=t.value,o=a.state.date;"start"===n&&a.setState({end:ge()("".concat(o,"T").concat(r,":00")).add(1,"hours").format("HH:00")}),a.setState(Object(fe.a)({},n,r)),sessionStorage.setItem([n],r)},a.onChangeDay=function(e){a.setState({date:e})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.state.date;return r.a.createElement("div",null,r.a.createElement("form",{className:"roomscedule",noValidate:!0,onSubmit:this.onAdd},r.a.createElement("div",{className:"picker-container"},r.a.createElement(Pe,{onChangeDay:function(t){return e.onChangeDay(t)}})),r.a.createElement(b.p,{variant:"h4",align:"center"},"Scedule for ",t),r.a.createElement(b.p,{variant:"subtitle1",align:"center"},"Click cell for more info"),r.a.createElement(we,Object.assign({currentDate:this.state},this.props))))}}]),t}(r.a.Component),He=Object(g.withStyles)(function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{width:400,marginBottom:20}}})(Re),Ue=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1}),a.props.confirmErr(),a.handleOpen()},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.hall_id;console.log(e),this.props.setHallId(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hall,n=e.user_id,o=e.hallsErr,l=e.tickets,i=e.ticketsErr,c=e.hallsLoading,s=e.ticketsLoading;if(c||s)return r.a.createElement(w,null,r.a.createElement(V,null));if(o||i){var u=o||i;return r.a.createElement(w,null,r.a.createElement(b.g,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},r.a.createElement(b.h,{id:"simple-dialog-title"},u)))}return a?r.a.createElement(w,null,a&&r.a.createElement(b.l,{className:t.root,elevation:1},r.a.createElement(b.p,{variant:"title",component:"h3"},a.title),r.a.createElement(b.a,{alt:a.title,src:a.imageURL,className:t.bigAvatar}),r.a.createElement(b.p,{variant:"subtitle1"},a.description),r.a.createElement(He,{tickets:l,hallId:a._id,userId:n}))):r.a.createElement(p.a,{exact:!0,to:"/"})}}]),t}(r.a.Component),Ye=Object(c.b)(function(e,t){var a=t.match.params.hall_id;return{hallsErr:e.halls.err,tickets:e.tickets.tickets,ticketsErr:e.tickets.err,hallsLoading:e.halls.isLoading,ticketsLoading:e.tickets.isLoading,hall:e.halls.halls.find(function(e){return e._id===a}),user_id:e.auth.userId}},function(e){return{getTickets:function(){return e(q())},confirmErr:function(){return e({type:"ERR_CONFIRM"})},setHallId:function(t){return e(function(e){return console.log(e),{type:"SET_HALL_ID",hall_id:e}}(t))}}})(Object(g.withStyles)(function(e){return{root:Object(he.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:4*e.spacing.unit,margin:20}),bigAvatar:{width:"100%",maxWidth:360,height:260,borderRadius:10,marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit}}})(Ue)),Fe=a(154),Ke=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={ticketsData:{labels:a.props.halls.map(function(e){return e.title}),datasets:[{label:"Count of tickets",backgroundColor:"rgb(255, 99, 132)",data:a.props.halls.map(function(e){return a.props.tickets.filter(function(t){return t.hall_id===e._id}).length})}]},ticketsOptions:{scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]},title:{display:!0,text:"Count of tickets",fontSize:20,fontColor:"#333"}},usersData:{labels:a.props.halls.map(function(e){return e.title}),datasets:[{label:"Count of users",backgroundColor:"rgb(255, 99, 132)",data:a.props.halls.map(function(e){return new Set(a.props.tickets.filter(function(t){return t.hall_id===e._id}).map(function(e){return e.user_id})).size})}]},usersOptions:{scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]},title:{display:!0,text:"Count of users",fontSize:20,fontColor:"#333"}},timeData:{labels:a.props.halls.map(function(e){return e.title}),datasets:[{label:"Count of time",backgroundColor:"rgb(255, 99, 132)",data:a.props.halls.map(function(e){return a.props.tickets.filter(function(t){return t.hall_id===e._id}).length})}]},timeOptions:{scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]},title:{display:!0,text:"Count of time",fontSize:20,fontColor:"#333"}}},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.ticketsData,a=e.ticketsOptions,n=e.usersData,o=e.usersOptions;return 0===this.props.halls.length?r.a.createElement(p.a,{exact:!0,to:"/"}):r.a.createElement(w,null,r.a.createElement("div",{className:"flexbox col"},r.a.createElement("div",null,r.a.createElement(Fe.a,{data:t,options:a,height:300})),r.a.createElement("div",null,r.a.createElement(Fe.a,{data:n,options:o,height:300}))))}}]),t}(r.a.Component),Ze=Object(c.b)(function(e){return console.log(e),{tickets:e.tickets.tickets,halls:e.halls.halls}})(Ke),ze=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,l=n.invalid,i=n.error,c=Object(oe.a)(e,["label","input","meta"]);return r.a.createElement(b.o,Object.assign({label:t,placeholder:t,error:o&&l,helperText:o&&i},a,c))},Ve=Object(ae.a)({form:"formAuthRedux",validate:function(e){var t={};return["email","password"].forEach(function(a){e[a]||(t[a]="Required")}),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),e.password&&e.password.length<6&&(t.password="Short password"),t}})(Object(g.withStyles)(function(){return{login:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{margin:20},form:{width:300,marginTop:50,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{display:"flex",alignItems:"center",justifyContent:"center"}}})(function(e){var t=e.classes,a=e.formType,n=e.handleSubmit,o=e.formData,l=!o||o.syncErrors;return r.a.createElement("div",{className:t.login},r.a.createElement(b.l,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(e)},className:t.form},r.a.createElement("div",null,r.a.createElement(re.a,{name:"email",component:ze,label:"Email",type:"email"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(re.a,{name:"password",component:ze,label:"Password",type:"password"})),r.a.createElement("br",null),r.a.createElement(b.b,{variant:"contained",color:"secondary",type:"submit",className:t.button,disabled:!!l},a)),r.a.createElement("div",{className:t.margin+" "+t.text},e.children)))})),We=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1}),a.props.onClose()},a.handleSubmit=function(e){var t=a.props.formData.values;localStorage.setItem("email",t.email),a.props.onSubmit(t)},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.err,a=e.formData;return e.isAuthenticated?r.a.createElement(p.a,{exact:!0,to:"/"}):t?r.a.createElement(w,null,r.a.createElement(b.g,{open:!0,onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},r.a.createElement(b.h,{id:"simple-dialog-title"},t))):r.a.createElement(w,null,r.a.createElement(Ve,{formType:"Sign In",handleSubmit:this.handleSubmit,formData:a},r.a.createElement(b.p,{align:"center"},"Have no account?"),r.a.createElement(i.b,{to:"/sign-up"},r.a.createElement(b.b,{variant:"text",color:"secondary"},"Sign Up"))))}}]),t}(r.a.Component),Je=Object(c.b)(function(e){return{err:e.auth.err,formData:e.form.formAuthRedux,isAuthenticated:!!localStorage.getItem("token")}},function(e){return{onSubmit:function(t){return e(function(e){return function(t){O.a.post("".concat(k,"/signIn"),e).then(function(e){var a=e.data,n=a.token,r=a._id;localStorage.setItem("token",n),localStorage.setItem("userId",r),t(j(n,r))}).catch(function(e){t(T(e.message))})}}(t))},onClose:function(){return e(T(null))}}})(We);var qe=function(){var e=r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:te}),r.a.createElement(p.b,{path:"/sign-up",component:ve}),r.a.createElement(p.b,{path:"/sign-in",component:Je}),r.a.createElement(p.b,{path:"/hall/:hall_id",component:Ye}),r.a.createElement(p.b,{path:"/statistics",component:Ze}));return r.a.createElement("div",null,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe={email:null,token:null,userId:null,err:null,loading:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_SUCCESS":return Object(he.a)({},e,{email:t.email,userId:t.userId,loading:!1});case"SIGNIN_SUCCESS":return Object(he.a)({},e,{token:t.token,userId:t.userId,loading:!1});case"AUTH_FAIL":return Object(he.a)({},e,{err:t.err,loading:!1});case"LOGOUT":return Object(he.a)({},e,{token:null,userId:null});default:return e}},$e={halls:[],currentHallId:null,err:null,isLoading:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_HALLS_INIT":return Object(he.a)({},e,{isLoading:!0});case"LOAD_HALLS_SUCCES":return Object(he.a)({},e,{halls:t.halls,isLoading:!1});case"LOAD_HALLS_FAIL":return Object(he.a)({},e,{err:t.err,isLoading:!1});case"SET_HALL_ID":return Object(he.a)({},e,{currentHallId:t.hall_id});case"ERR_CONFIRM":return Object(he.a)({},e,{err:null});default:return e}},tt={tickets:[],err:null,isLoading:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TICKETS_INIT":return Object(he.a)({},e,{isLoading:!0});case"GET_TICKETS_SUCCESS":return Object(he.a)({},e,{tickets:t.tickets,isLoading:!1});case"GET_TICKETS_FAIL":return Object(he.a)({},e,{err:t.err,isLoading:!1});case"ERR_CONFIRM":return Object(he.a)({},e,{err:null});default:return e}},nt=Object(s.c)({auth:Xe,halls:et,tickets:at,form:m.a}),rt=s.d,ot=Object(s.e)(nt,rt(Object(s.a)(u.a))),lt=r.a.createElement(c.a,{store:ot},r.a.createElement(i.a,{basename:"/booking_test"},r.a.createElement(qe,null)));l.a.render(lt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[299,1,2]]]);
//# sourceMappingURL=main.44d216be.chunk.js.map